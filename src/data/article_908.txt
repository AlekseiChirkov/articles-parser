Название: Почти детективная история одной «кровавой» ошибки

Автор: rsashka

Дата: 2021-09-15, 21:05

Теги: Блог компании Timeweb, Программирование *, Промышленное
программирование *, Программирование микроконтроллеров *, Производство
и разработка электроники *

Контент: Дополнение статьи «Размещение кучи FreeRTOS в разделе CCMRAM для
STM32», и в продолжение серии статей про различные полезности для
STM32 (1, 2 и 3), хочу обратить внимание на одну особенность работы с
CCM RAM памятью, которая может быть причиной совершенно не очевидных
ошибок в работе устройств, одна из которых выпила у автора достаточно
много крови, так что с чистой совестью её действительно можно назвать
«кровавой».   А сама история такова. В логике алгоритма некого
устройства засела трудноуловимая плавающая ошибка. И чтобы временно
купировать её влияние, было принято решение периодически устройство
перезагружать. Сам знаю, что это не очень хорошее решение, но как
временный костыль пойдет.   Вот только костыль не помог. Помогало
только физическое выключения питания, а программная перезагрузка
микроконтроллера не помогала! Более того, даже перезагрузка с помощью
кнопки RESET иногда не срабатывала! Устройство перезагружалось, но
неправильное поведение устройства никуда не исчезало и в итоге все
равно приходилось отключать питание физически.