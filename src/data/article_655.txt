Название: Железа и баек ностальгии пост

Автор: AlOvch

Дата: 2021-09-21, 10:02

Теги: Блог компании КРОК, IT-инфраструктура *, Компьютерное железо, Старое
железо

Контент: Ходил я тут как-то по нашему складу, искал одну железку для заказчика.
Смотрю, знакомая старая железяка — кэш.   Точнее, это ячейка
хайэндового дискового массива, представляющая нечто вроде оперативной
памяти, но в центре архитектуры Симметрикса    Еще увидели знакомую
старую железяку — VNX1. Она интересна не столько гениальной по тем
временам архитектурой, сколько тем, как мы однажды разбирали
последствия переезда такого массива с этажа на этаж по офису
заказчика. Представьте ситуацию: они там четыре года делали проект по
госконтракту, который хранился в виде единственной копии на массиве. И
решили перевезти железку, не позвав админа, потому что железяка была
старая (на три поколения древнее, чем та древность, от которой кеш-
плата на фотографии) и сошла с поддержки. Для упрощения переезда
решили вынуть все диски, потому что без них стойка получалась легче.
Как вы догадываетесь, вопрос только один: что вообще могло в этой
истории пойти ТАК?   Железяка имеет физическую адресацию дисков по
номеру слота. Слоты для дисков бывают двух типов: рейд-группы массива
(большая часть) и диски горячей замены. Массив при втыкании дисков
обратно увидел, что это его диски, но начал ругаться на нарушенную
адресацию красными лампочками. Местный админ начал подбирать
комбинацию из дисков, надеясь, что если угадать с перестановками,
лампочки погаснут и всё заведётся. Потому что про многомиллионный
проект уже начали задавать неудобные вопросы.    Подстава заключалась
только в том, что при втыкании диска в слот горячей замены массив не
ворчал на него, а говорил: «О, новый жёсткий диск» и молча его
форматировал, и начинал в него что-то писать.    Всего заказчик успел
попробовать около 20 рекомбинаций из 200 дисков, из которых девять
пришлось на установку новых дисков с данными в слоты горячей замены.