Название: Read Committed and Bookmark Lookup

Автор: mssqlhelp

Дата: 2021-09-20, 12:29

Теги: Microsoft SQL Server *

Контент: По материалам статьи Craig Freedman: Read Committed and Bookmark
LookupВ предыдущих двух статьях мы обсуждали сценарии, при которых SQL
Server продолжает удерживать блокировки Read Committed до конца
исполнения оператора. Он это делает вместо того, чтобы снимать
блокировку сразу после завершения работы со строкой. Один сценарий
возможен при обновлении, а второй при работе с большими объектами. В
этой статье (последней из цикла статей по блокировкам с Read
Committed) будет рассмотрен сценарий использования в плане запроса
оператора Bookmark Lookup, когда SQL Server также удерживает
блокировки Read Committed дольше чем этого можно было бы ожидать.Как
легко догадаться после прочтения предыдущих статей, этот сценарий
возникает, когда в плане запроса между операторами поиска по
некластеризованному индексу и поиска закладок находится блокирующий
оператор. В основном это случается в трёх случаях.