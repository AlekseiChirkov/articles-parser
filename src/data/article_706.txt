Название: Сборка образа Windows Server 2019 с обновлениями c помощью packer и
ansible в Yandex Cloud

Автор: chemtech

Дата: 2021-09-20, 11:12

Теги: Системное администрирование *, DevOps *

Контент: Зачем собирать образ с помощью Packer?  Время создания инстанса из
готового образа значительно меньше, чем время, которое нужно затратить
с нуля на подготовку виртуальной машины к работе. Это достаточно
критичный момент, так как порой очень важно ввести в работу новый
инстанс нужного типа за кратчайшее время для того, чтобы начать
пускать на него трафик. Помимо того что образ виртуальной машины для
DEV, TEST, Staging окружений, он всегда будет соответствовать по
набору ПО и его настройкам тому серверу, который используется в
production. Важность этого момента трудно недооценить — крайне
желательно, чтобы деплой нового кода на продакшн привел к тому, чтобы
сайт продолжал корректную работу с новой функциональностью, а не упал
из-за какой-то ошибки, связанной с недостающим модулем или
отсутствующим ПО. Автоматизация сборки production- и development-
окружений экономит время системного администратора. В глазах
работодателя это также должно быть несомненным плюсом, так как это
означает, что за то же время администратор сможет выполнить больший
объем работы. Время для тестирования набора ПО, его версий, его
настроек. Когда мы подготавливаем новый образ заранее, у нас есть
возможность (и, что самое главное, время!) для того, чтобы спокойно и
вдумчиво проанализировать различные ошибки, которые возникли при
сборке образа, и исправить их. Также есть время для тестирования
работы приложения на собранном образе и внесения каких-то настроек для
оптимизации приложений. В случае же, если мы настраиваем инстанс,
который нужно было ввести в работу еще вчера, все возникающие ошибки,
как правило, исправляются по факту их возникновения уже на работающей
системе — конечно же, это не совсем правильный подход.