Название: Под капотом Ruby. GVL

Автор: motoroller95

Дата: 2021-09-15, 19:25

Теги: Ruby *, Программирование *, Системное программирование *, C *,
Параллельное программирование *

Контент: Давным давно уже уже была написана статья о том что такое GVL (или
GIL, кому как привычнее) и как он работает, однако с того времени
некоторые вещи поменялись (к примеру, , а так же в Ruby 3.0 завезли
Ractor'ы - новую абстракцию для реальной параллельной работы тредов.
Мне стало интересно узнать что поменялось в планировщике ruby для
реализации множества GVL. В этой статье я попытаюсь понять алгоритм,
по которому GVL передается от одного треда к другому, как блокирующее
IO позволяет продолжить работать другим тредам, а так же выяснить до
сих пор ли операция добавления элемента в массив является атомарной
операцией